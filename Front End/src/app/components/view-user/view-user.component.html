<app-toolbar></app-toolbar>

<div class="container">
	<div class="col s12 m12 l10">
		<ul class="tabs">
			<li class="tab col s4" (click)="ChangeTab('posts')">
				<a href="#" class="active">
					Posts
				</a>
			</li>
			<li class="tab col s4" (click)="ChangeTab('following')">
				<a href="#">
					Following
				</a>
			</li>
			<li class="tab col s4" (click)="ChangeTab('followers')">
				<a href="#">
					Followers
				</a>
			</li>
		</ul>
	</div>
</div>

<div class="container" style="margin-top: 30px;">
	<div class="row">
		<div class="col s12 m4 l3">
			<div class="row">
				<div class="col s12">
					<img src="https://res.cloudinary.com/anheart/image/upload/v{{
						user.imgVersion
					}}/{{ user.imgId }}">
					<span class="title">{{ name }}</span>
				</div>
			</div>
		</div>

		<div class="col s12 m8 l9" style="background: white;">
			<div class="row">
				<div class="col s12">
					<div class="row" *ngIf="postsTab">
						<div *ngIf="posts.length <= 0">No posts Added by {{ name }}</div>
						<ul class="collection col s12 m12 l10" *ngFor="let post of posts">
							<li class="collection-item avatar">
								<img
									class="circle"
									src="https://res.cloudinary.com/anheart/image/upload/v{{
										user.picVersion
									}}/{{ user.picId }}"
								/>
								<span class="post">{{ post.postId.username }}</span>
								<p class="time">
									{{ TimeFromNow(post.created) }} <br />
									Country
								</p>
							</li>
							<div class="row">
								<div class="col s12">
									<div class="card">
										<div
											class="card-image card_image"
											*ngIf="post.postId.imgId"
										>
											<img
												class="postImage"
												src="https://res.cloudinary.com/anheart/image/upload/v{{
													post.postId.imgVersion
												}}/{{ post.postId.imgId }}"
											/>
										</div>
										<div
											class="card-image card_image"
											*ngIf="post.postId.vidId"
										>
											<video controls class="vidDiv">
												<source
													src="https://res.cloudinary.com/anheart/video/upload/v{{
														post.postId.vidVersion
													}}/{{ post.postId.vidId }}"
													type="video/mp4"
												/>
												Your browser does not support the video tag.
											</video>
										</div>
										<div class="card-content">
											<p>{{ post.postId.post }}</p>
										</div>
										<div class="card-action">
											<i class="material-icons">thumb_up</i>
											<span id="iconSpan">
												{{ post.postId.totalLikes }}
											</span>
											<i class="material-icons">chat</i>
											<span id="iconSpan">
												{{ post.postId.comments.length }}
											</span>
										</div>
									</div>
								</div>
							</div>
						</ul>
					</div>

					<div class="row" *ngIf="followingTab">
						<div class="col s12 m4 l4" *ngFor="let user of following">
							<div class="card">
								<div class="card-image imgDiv">
									<img
										class="imgCircle"
										src="https://res.cloudinary.com/anheart/image/upload/v{{
											user.userFollowed.picVersion
										}}/{{ user.userFollowed.picId }}"
									/>
								</div>
								<div class="card-action">
									<h3 class="card-title">{{ user.userFollowed.username }}</h3>
									<p>Country</p>
								</div>
							</div>
						</div>
					</div>

					<div class="row" *ngIf="followersTab">
						<div class="col s12 m4 l4" *ngFor="let user of followers">
							<div class="card">
								<div class="card-image imgDiv">
									<img
										class="imgCircle"
										src="https://res.cloudinary.com/anheart/image/upload/v{{
											user.follower.picVersion
										}}/{{ user.follower.picId }}"
									/>
								</div>
								<div class="card-action">
									<h3 class="card-title">{{ user.follower.username }}</h3>
									<p>Country</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
